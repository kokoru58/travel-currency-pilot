<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì—¬í–‰ì í™˜ìœ¨ ê³„ì‚°ê¸°</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .container {
      animation: slideUp 0.5s ease-out;
    }

    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255, 255, 255, 0.3);
      border-top-color: white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    .spinner {
      display: inline-block;
      width: 14px;
      height: 14px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-top-color: white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-right: 8px;
    }

    .status-indicator {
      display: inline-block;
      width: 8px;
      height: 8px;
      background: #4caf50;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    input[type="text"].amount-input::-webkit-outer-spin-button,
    input[type="text"].amount-input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    .location-btn {
      background: rgba(255, 255, 255, 0.2);
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.3);
      padding: 4px 12px;
      font-size: 12px;
      border-radius: 6px;
      transition: background-color 0.3s;
      cursor: pointer;
    }

    @media (min-width: 640px) {
      .location-btn {
        font-size: 14px;
      }
    }

    .location-btn:hover {
      background: rgba(255, 255, 255, 0.3);
    }

    .location-btn.active {
      background: rgba(255, 255, 255, 0.4);
    }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center p-4 sm:p-6 font-sans">
  <div class="container bg-white rounded-2xl shadow-2xl max-w-lg w-full p-6 sm:p-8 md:p-10 max-h-[95vh] overflow-y-auto">
    <!-- Header -->
    <div class="text-center mb-6 sm:mb-8">
      <h1 class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800 mb-2">ğŸ’± ì—¬í–‰ì í™˜ìœ¨ ê³„ì‚°ê¸°</h1>
      <p class="text-xs sm:text-sm text-gray-500">í˜„ìœ„ì¹˜ì˜ í†µí™”ì™€ ë‚´ êµ­ê°€ í†µí™”ë¥¼ ìë™ìœ¼ë¡œ ë¹„êµí•˜ì„¸ìš”</p>
    </div>

    <!-- Messages -->
    <div id="errorMessage" style="display: none;" class="bg-red-100 text-red-700 px-4 sm:px-5 py-3 rounded-lg mb-4 text-sm sm:text-base border-l-4 border-red-700"></div>
    <div id="warningMessage" style="display: none;" class="bg-yellow-50 text-yellow-800 px-4 sm:px-5 py-3 rounded-lg mb-4 text-xs sm:text-sm border-l-4 border-yellow-500"></div>

    <!-- Location Section -->
    <div class="bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-xl p-4 sm:p-5 md:p-6 mb-5 sm:mb-6">
      <div class="flex items-center justify-between mb-4 sm:mb-5">
        <div class="flex items-center gap-2">
          <span>ğŸ“ í˜„ì¬ ìœ„ì¹˜</span>
        </div>
        <div class="flex gap-2">
          <button class="location-btn" id="updateLocationBtn" title="ìœ„ì¹˜ ì—…ë°ì´íŠ¸">ìƒˆë¡œê³ ì¹¨</button>
          <button class="location-btn" id="autoLocationBtn" title="ìë™ ê°±ì‹  í† ê¸€">ìë™</button>
        </div>
      </div>
      <div id="locationInfo" class="grid grid-cols-1 sm:grid-cols-2 gap-3">
        <div class="bg-white/10 p-3 sm:p-4 rounded-lg border border-white/20">
          <div class="text-xs opacity-80 mb-2">ìœ„ì¹˜</div>
          <div class="font-semibold text-sm sm:text-base" id="locationName">ìœ„ì¹˜ ê°ì§€ ì¤‘...</div>
        </div>
        <div class="bg-white/10 p-3 sm:p-4 rounded-lg border border-white/20">
          <div class="text-xs opacity-80 mb-2">í˜„ì§€ í†µí™”</div>
          <div class="font-semibold text-sm sm:text-base" id="localCurrency">-</div>
        </div>
      </div>
    </div>

    <!-- Home Currency Section -->
    <div class="bg-blue-50 rounded-xl p-4 sm:p-5 mb-5 sm:mb-6 border-l-4 border-indigo-500">
      <div class="text-xs sm:text-sm text-gray-600 font-semibold mb-2">ğŸ  ë‚˜ì˜ êµ­ê°€ í†µí™”</div>
      <div class="text-xs text-gray-500 mb-3">ì—¬í–‰ì„ ê°€ê¸° ì „ ì‚¬ìš©í•˜ë˜ ë³¸êµ­ í†µí™”ì…ë‹ˆë‹¤</div>
      <select id="homeCurrency" class="w-full px-3 sm:px-4 py-3 sm:py-3.5 text-base sm:text-lg border-2 border-indigo-500 rounded-lg font-semibold text-gray-800 bg-white cursor-pointer focus:outline-none focus:border-indigo-600 transition-colors">
        <option value="USD">USD ğŸ‡ºğŸ‡¸</option>
        <option value="EUR">EUR ğŸ‡ªğŸ‡º</option>
        <option value="GBP">GBP ğŸ‡¬ğŸ‡§</option>
        <option value="JPY">JPY ğŸ‡¯ğŸ‡µ</option>
        <option value="KRW" selected>KRW ğŸ‡°ğŸ‡·</option>
        <option value="CNY">CNY ğŸ‡¨ğŸ‡³</option>
        <option value="INR">INR ğŸ‡®ğŸ‡³</option>
        <option value="PHP">PHP ğŸ‡µğŸ‡­</option>
        <option value="THB">THB ğŸ‡¹ğŸ‡­</option>
        <option value="VND">VND ğŸ‡»ğŸ‡³</option>
        <option value="MYR">MYR ğŸ‡²ğŸ‡¾</option>
        <option value="IDR">IDR ğŸ‡®ğŸ‡©</option>
        <option value="SGD">SGD ğŸ‡¸ğŸ‡¬</option>
        <option value="HKD">HKD ğŸ‡­ğŸ‡°</option>
        <option value="AUD">AUD ğŸ‡¦ğŸ‡º</option>
        <option value="NZD">NZD ğŸ‡³ğŸ‡¿</option>
        <option value="CAD">CAD ğŸ‡¨ğŸ‡¦</option>
        <option value="CHF">CHF ğŸ‡¨ğŸ‡­</option>
        <option value="SEK">SEK ğŸ‡¸ğŸ‡ª</option>
        <option value="NOK">NOK ğŸ‡³ğŸ‡´</option>
        <option value="DKK">DKK ğŸ‡©ğŸ‡°</option>
        <option value="MXN">MXN ğŸ‡²ğŸ‡½</option>
        <option value="BRL">BRL ğŸ‡§ğŸ‡·</option>
        <option value="TRY">TRY ğŸ‡¹ğŸ‡·</option>
        <option value="RUB">RUB ğŸ‡·ğŸ‡º</option>
        <option value="ZAR">ZAR ğŸ‡¿ğŸ‡¦</option>
        <option value="SAR">SAR ğŸ‡¸ğŸ‡¦</option>
        <option value="AED">AED ğŸ‡¦ğŸ‡ª</option>
        <option value="ILS">ILS ğŸ‡®ğŸ‡±</option>
        <option value="PLN">PLN ğŸ‡µğŸ‡±</option>
        <option value="CZK">CZK ğŸ‡¨ğŸ‡¿</option>
        <option value="HUF">HUF ğŸ‡­ğŸ‡º</option>
        <option value="RON">RON ğŸ‡·ğŸ‡´</option>
        <option value="ARS">ARS ğŸ‡¦ğŸ‡·</option>
        <option value="EGP">EGP ğŸ‡ªğŸ‡¬</option>
      </select>
    </div>

    <!-- Converter Section -->
    <div class="bg-gray-50 rounded-xl p-3 sm:p-6 md:p-7 mb-5 sm:mb-6">
      <!-- From Amount -->
      <div class="mb-4 sm:mb-4">
        <label for="fromAmount" class="block text-gray-700 font-semibold mb-2 text-sm sm:text-base">í˜„ì§€ ê¸ˆì•¡</label>
        <div class="flex gap-1 sm:gap-2 md:gap-3">
          <input type="text" id="fromAmount" class="amount-input flex-1 px-1.5 sm:px-4 py-3 sm:py-3.5 text-sm sm:text-lg border-2 border-gray-300 rounded-lg text-right font-mono focus:outline-none focus:border-indigo-500 transition-colors h-11 sm:h-12" placeholder="ê¸ˆì•¡ ì…ë ¥" value="1">
          <select id="fromCurrency" class="px-1 sm:px-4 py-3 sm:py-3.5 text-xs sm:text-lg border-2 border-gray-300 rounded-lg font-semibold text-gray-800 bg-white cursor-pointer focus:outline-none focus:border-indigo-500 transition-colors min-w-[60px] sm:min-w-[100px] md:min-w-[110px] flex-shrink-0 h-11 sm:h-12">
            <option value="USD">USD ğŸ‡ºğŸ‡¸</option>
            <option value="EUR">EUR ğŸ‡ªğŸ‡º</option>
            <option value="GBP">GBP ğŸ‡¬ğŸ‡§</option>
            <option value="JPY">JPY ğŸ‡¯ğŸ‡µ</option>
            <option value="KRW">KRW ğŸ‡°ğŸ‡·</option>
            <option value="CNY">CNY ğŸ‡¨ğŸ‡³</option>
            <option value="INR">INR ğŸ‡®ğŸ‡³</option>
            <option value="PHP">PHP ğŸ‡µğŸ‡­</option>
            <option value="THB">THB ğŸ‡¹ğŸ‡­</option>
            <option value="VND">VND ğŸ‡»ğŸ‡³</option>
            <option value="MYR">MYR ğŸ‡²ğŸ‡¾</option>
            <option value="IDR">IDR ğŸ‡®ğŸ‡©</option>
            <option value="SGD">SGD ğŸ‡¸ğŸ‡¬</option>
            <option value="HKD">HKD ğŸ‡­ğŸ‡°</option>
            <option value="AUD">AUD ğŸ‡¦ğŸ‡º</option>
            <option value="NZD">NZD ğŸ‡³ğŸ‡¿</option>
            <option value="CAD">CAD ğŸ‡¨ğŸ‡¦</option>
            <option value="CHF">CHF ğŸ‡¨ğŸ‡­</option>
            <option value="SEK">SEK ğŸ‡¸ğŸ‡ª</option>
            <option value="NOK">NOK ğŸ‡³ğŸ‡´</option>
            <option value="DKK">DKK ğŸ‡©ğŸ‡°</option>
            <option value="MXN">MXN ğŸ‡²ğŸ‡½</option>
            <option value="BRL">BRL ğŸ‡§ğŸ‡·</option>
            <option value="TRY">TRY ğŸ‡¹ğŸ‡·</option>
            <option value="RUB">RUB ğŸ‡·ğŸ‡º</option>
            <option value="ZAR">ZAR ğŸ‡¿ğŸ‡¦</option>
            <option value="SAR">SAR ğŸ‡¸ğŸ‡¦</option>
            <option value="AED">AED ğŸ‡¦ğŸ‡ª</option>
            <option value="ILS">ILS ğŸ‡®ğŸ‡±</option>
            <option value="PLN">PLN ğŸ‡µğŸ‡±</option>
            <option value="CZK">CZK ğŸ‡¨ğŸ‡¿</option>
            <option value="HUF">HUF ğŸ‡­ğŸ‡º</option>
            <option value="RON">RON ğŸ‡·ğŸ‡´</option>
            <option value="ARS">ARS ğŸ‡¦ğŸ‡·</option>
            <option value="EGP">EGP ğŸ‡ªğŸ‡¬</option>
          </select>
        </div>
      </div>

      <!-- Swap Button -->
      <div class="flex justify-center my-2 sm:my-3">
        <button class="w-full sm:w-auto px-4 py-3 sm:px-8 sm:py-4 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 text-white text-2xl flex items-center justify-center hover:shadow-lg transition-all active:scale-95" id="swapBtn" title="í†µí™” êµí™˜">â†”ï¸</button>
      </div>

      <!-- To Amount -->
      <div>
        <label for="convertedAmount" class="block text-gray-700 font-semibold mb-2 text-sm sm:text-base">ë‚´ êµ­ê°€ ê¸ˆì•¡ (í™˜ì‚° ê²°ê³¼)</label>
        <div class="flex gap-1 sm:gap-2 md:gap-3">
          <input type="text" id="convertedAmount" class="amount-input flex-1 px-1.5 sm:px-4 py-3 sm:py-3.5 text-sm sm:text-lg border-2 border-gray-300 rounded-lg text-right font-mono bg-gray-100 text-gray-700 font-semibold focus:outline-none focus:border-indigo-500 transition-colors h-11 sm:h-12" placeholder="í™˜ì‚° ê²°ê³¼" readonly>
          <select id="toCurrency" class="px-1 sm:px-4 py-3 sm:py-3.5 text-xs sm:text-lg border-2 border-gray-300 rounded-lg font-semibold text-gray-800 bg-white cursor-pointer focus:outline-none focus:border-indigo-500 transition-colors min-w-[60px] sm:min-w-[100px] md:min-w-[110px] flex-shrink-0 h-11 sm:h-12">
            <option value="KRW">KRW ğŸ‡°ğŸ‡·</option>
            <option value="USD">USD ğŸ‡ºğŸ‡¸</option>
            <option value="EUR">EUR ğŸ‡ªğŸ‡º</option>
            <option value="GBP">GBP ğŸ‡¬ğŸ‡§</option>
            <option value="JPY">JPY ğŸ‡¯ğŸ‡µ</option>
            <option value="CNY">CNY ğŸ‡¨ğŸ‡³</option>
            <option value="INR">INR ğŸ‡®ğŸ‡³</option>
            <option value="PHP">PHP ğŸ‡µğŸ‡­</option>
            <option value="THB">THB ğŸ‡¹ğŸ‡­</option>
            <option value="VND">VND ğŸ‡»ğŸ‡³</option>
            <option value="MYR">MYR ğŸ‡²ğŸ‡¾</option>
            <option value="IDR">IDR ğŸ‡®ğŸ‡©</option>
            <option value="SGD">SGD ğŸ‡¸ğŸ‡¬</option>
            <option value="HKD">HKD ğŸ‡­ğŸ‡°</option>
            <option value="AUD">AUD ğŸ‡¦ğŸ‡º</option>
            <option value="NZD">NZD ğŸ‡³ğŸ‡¿</option>
            <option value="CAD">CAD ğŸ‡¨ğŸ‡¦</option>
            <option value="CHF">CHF ğŸ‡¨ğŸ‡­</option>
            <option value="SEK">SEK ğŸ‡¸ğŸ‡ª</option>
            <option value="NOK">NOK ğŸ‡³ğŸ‡´</option>
            <option value="DKK">DKK ğŸ‡©ğŸ‡°</option>
            <option value="MXN">MXN ğŸ‡²ğŸ‡½</option>
            <option value="BRL">BRL ğŸ‡§ğŸ‡·</option>
            <option value="TRY">TRY ğŸ‡¹ğŸ‡·</option>
            <option value="RUB">RUB ğŸ‡·ğŸ‡º</option>
            <option value="ZAR">ZAR ğŸ‡¿ğŸ‡¦</option>
            <option value="SAR">SAR ğŸ‡¸ğŸ‡¦</option>
            <option value="AED">AED ğŸ‡¦ğŸ‡ª</option>
            <option value="ILS">ILS ğŸ‡®ğŸ‡±</option>
            <option value="PLN">PLN ğŸ‡µğŸ‡±</option>
            <option value="CZK">CZK ğŸ‡¨ğŸ‡¿</option>
            <option value="HUF">HUF ğŸ‡­ğŸ‡º</option>
            <option value="RON">RON ğŸ‡·ğŸ‡´</option>
            <option value="ARS">ARS ğŸ‡¦ğŸ‡·</option>
            <option value="EGP">EGP ğŸ‡ªğŸ‡¬</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Result Section -->
    <div class="bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-xl p-6 sm:p-8 md:p-10 mb-5 sm:mb-6 text-center">
      <p id="resultLabel" class="text-sm sm:text-base opacity-90 mb-3 sm:mb-4">ë³€í™˜ ê²°ê³¼</p>
      <div class="result-amount text-3xl sm:text-4xl md:text-5xl font-bold mb-3 sm:mb-4" id="resultAmount">
        <span class="loading"></span>
      </div>
      <div class="exchange-rate-info text-xs sm:text-sm opacity-80 pt-4 sm:pt-5 border-t border-white/30" id="exchangeRateInfo">
        í™˜ìœ¨ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
      </div>

      <!-- Save Section -->
      <div class="mt-6 sm:mt-8 pt-5 sm:pt-6 border-t border-white/30">
        <div class="mb-3">
          <input type="text" id="saveTitle" placeholder="í•­ëª©ì„ ì…ë ¥í•˜ì„¸ìš”" maxlength="20" class="w-full px-3 sm:px-4 py-2 sm:py-3 border border-white/30 rounded-lg bg-white/10 text-white placeholder-white/50 text-xs sm:text-sm focus:outline-none focus:border-white/50 transition-colors">
        </div>
        <button id="saveBtn" class="w-full px-4 sm:px-5 py-3 sm:py-3.5 bg-white/20 text-white border border-white/30 rounded-lg text-sm sm:text-base font-semibold hover:bg-white/30 transition-colors">ğŸ’¾ ì´ í™˜ìœ¨ ì €ì¥í•˜ê¸°</button>
      </div>
    </div>

    <!-- History Section -->
    <div class="mt-6 sm:mt-8">
      <h3 class="text-base sm:text-lg text-gray-800 font-semibold mb-4 flex items-center gap-2">
        <span class="status-indicator"></span>
        ìµœê·¼ ë³€í™˜ ë‚´ì—­
      </h3>
      <div class="history-list max-h-60 sm:max-h-72 md:max-h-80 overflow-y-auto" id="historyList">
        <div class="text-center text-gray-400 py-5 sm:py-6 text-xs sm:text-sm">ë³€í™˜ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤</div>
      </div>
      <button class="clear-history-btn w-full px-3 sm:px-4 py-2 sm:py-3 bg-gray-200 text-gray-700 rounded-lg text-xs sm:text-sm font-medium hover:bg-gray-300 transition-colors mt-3" id="clearHistoryBtn" style="display: none;">
        íˆìŠ¤í† ë¦¬ ì´ˆê¸°í™”
      </button>
    </div>
  </div>

  <script src="js/config.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/api.js"></script>
  <script src="js/location.js"></script>
  <script src="js/converter.js"></script>
  <script src="js/history.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
